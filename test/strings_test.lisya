
(fmt nil "обработка строк ...")

(block "mismatch"
    (assertion (= 2 (strings-mismatch "abc" "abd")) "mismatch 1")
    (assertion (= 3 (strings-mismatch "abc" "abcd")) "mismatch 2")
    (assertion (= NIL (strings-mismatch "abc" "abc")) "mismatch 3")
    (assertion (= 0 (strings-mismatch "abc" "")) "mismatch 4")
    (assertion (= NIL (strings-mismatch "" "")) "mismatch 5"))

(block "split-string"
    (assertion (= \("a" "b" "c") (split-string "a b c")) "split-string 1")
    (assertion (= \("a b" " c d") (split-string "a b, c d" ",")) "split-string 2")
    (assertion (= \("a b" "c d") (split-string "a b, c d" ", ")) "split-string 3")
    )

(block "trim"
    (assertion (= "abc" (trim " abc ")) "trim"))

(block "numeric-value"
    (assertion (= -123 (numeric-value "-123")) "numeric-value")
    (assertion (= 220000 (numeric-value "220 кВ")) "numeric-value int")
    (const nv99 (numeric-value "3х3.3 Мвар"))
    (assertion (and (< nv99 9900001) (> nv99 9899999)) "numric-value float")

    (assertion (= 3 (numeric-value "3хТАР")) "numeric-value 3"))

(block "regexp"
    (assertion (= \("3x") (regexp:match "3xФОЛ" "[0-9][*xх]")) "regexp"))


(log \успешно)

